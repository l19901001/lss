"use strict";(self["webpackChunkshengyue"]=self["webpackChunkshengyue"]||[]).push([[802],{8802:function(e,t,i){i.r(t),i.d(t,{default:function(){return y}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"work-list"},[t("div",{staticClass:"work-head"},[t("el-button",{staticClass:"create-produc",attrs:{icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.createProducDialogVisible=!0}}},[e._v("新建作品")])],1),t("div",{staticClass:"list-content"},e._l(e.listData,(function(i,a){return t("work-list-item",{key:i.name+a,attrs:{item:i,coverClick:e._itemClick,writingClick:e._goWriting,havaReleasedClick:e._releasedList,editClick:e._edit}})})),1),t("el-dialog",{staticClass:"create-produc-dialog",attrs:{title:"创建作品",center:"","show-close":!1,"close-on-click-modal":!1,visible:e.createProducDialogVisible,width:"350px"},on:{"update:visible":function(t){e.createProducDialogVisible=t}}},[t("create-produc",{ref:"addProduc",attrs:{addSuccessHandle:e._createProducSuccess}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.createProducDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e._createProduc}},[e._v("确 定")])],1)],1)],1)},s=[],l=i(6066),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"work-list-item",on:{click:e._click}},[t("div",{staticClass:"cover-container"},[t("el-image",{ref:"coverimg",class:e.coverimg_class,attrs:{src:e.item.cover},on:{click:e._imgClick,mouseover:e._coveimg_onmouseenter,mouseleave:e._coverimg_onmouseleave}})],1),t("div",{staticClass:"info"},[t("p",[e._v(e._s(e.item.name))]),t("p",[e._v(e._s("最新章节: "+e.item.lastChapter))]),t("p",[e._v(e._s("更新时间: "+e.item.updateTime))]),t("p",[e._v(e._s("创建时间: "+e.item.createTime))]),t("p",[e._v(e._s("收藏: "+e.item.collect))])]),t("div",{staticClass:"opertion"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e._writing}},[e._v("去写作")]),t("el-button",{attrs:{type:"success",plain:""},on:{click:e._havaReleased}},[e._v("已发布")]),t("el-button",{on:{click:e._edit}},[e._v("编 辑")])],1)])},o=[],r={props:{item:{},coverClick:Function,writingClick:Function,havaReleasedClick:Function,editClick:Function},data(){return{coverimg_class:[""],is_mouseleave:!0}},methods:{_click(){this.is_mouseleave=!0,this.$emit("click",this.item)},_imgClick(){this.is_mouseleave=!0,this._resetCoverimgAnima(),this.coverClick&&this.coverClick(this.item)},_writing(){this.writingClick&&this.writingClick(this.item)},_havaReleased(){this.havaReleasedClick&&this.havaReleasedClick(this.item)},_edit(){this.editClick&&this.editClick(this.item)},_coveimg_onmouseenter(){this.is_mouseleave=!1;let e=this.$refs.coverimg.$el;e.style.animationFillMode="forwards",this.coverimg_class=["coverimg_mouseenter"]},_coverimg_onmouseleave(){if(this.is_mouseleave)return;let e=this.$refs.coverimg.$el;e.style.animationFillMode="backwards",this.coverimg_class=["coverimg_mouseleave"],this.is_mouseleave=!0},_resetCoverimgAnima(){this.is_mouseleave=!0;let e=this.$refs.coverimg.$el;e.style.animationFillMode="backwards",this.coverimg_class=[""],e.style.animationName=""}},deactivated(){this._resetCoverimgAnima()}},n=r,u=i(3736),d=(0,u.Z)(n,c,o,!1,null,"e9a68b74",null),m=d.exports,p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-produc"},[t("el-upload",{staticClass:"upload",attrs:{action:"","show-file-list":!1,"auto-upload":!1,"on-change":e._fileOpertion,disabled:e.imageUrl.length>0}},[e.imageUrl?t("div",{staticClass:"img-Container"},[t("el-button",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e._removeFile.apply(null,arguments)}}}),t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}})],1):t("div",{staticClass:"cover-tip"},[t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t("p",[e._v("上传封面(可选)")])])]),t("div",{staticClass:"content"},[t("el-input",{attrs:{type:"text",placeholder:"请输入内容"},model:{value:e.produceName,callback:function(t){e.produceName=t},expression:"produceName"}},[t("template",{slot:"prepend"},[e._v("作品名称")])],2),t("div",{staticClass:"produce_class"},[t("div",{staticClass:"produce_class_prepend"},[e._v("作品类型")]),t("el-select",{model:{value:e.produceClass,callback:function(t){e.produceClass=t},expression:"produceClass"}})],1)],1),t("el-input",{attrs:{type:"textarea",placeholder:"作品简介",resize:"none"},model:{value:e.produceDesc,callback:function(t){e.produceDesc=t},expression:"produceDesc"}})],1)},v=[],h={components:{},props:{addSuccessHandle:Function},data(){return{imageUrl:"",produceName:"",produceClass:"",produceDesc:""}},methods:{_fileOpertion(e){this.imageUrl=URL.createObjectURL(e.raw)},_removeFile(){this.imageUrl=""},upload(){var e={cover:"https://img1.baidu.com/it/u=4027476620,1429212730&fm=253&fmt=auto&app=120&f=JPEG?w=600&h=800",name:"钢铁是怎样炼成的",lastChapter:"第 666 章 诸神的黄昏",createTime:"2022:07:08",updateTime:"2022:07:22",collect:2999};this.addSuccessHandle&&this.addSuccessHandle(e)}}},_=h,g=(0,u.Z)(_,p,v,!1,null,"1ae5cdcc",null),C=g.exports,k={name:"WorkList",components:{WorkListItem:m,CreateProduc:C},data(){return{listData:l.iS,createProducDialogVisible:!1}},methods:{_itemClick(){const e=this.$router.resolve("/detail");window.open(e.href,"_blank")},_goWriting(){const e=this.$router.resolve({name:"writ",params:{type:"addType"}});window.open(e.href,"_blank")},_releasedList(){const e=this.$router.resolve({name:"writ",params:{type:"released"}});window.open(e.href,"_blank")},_edit(){},_createProduc(){let e=this.$refs.addProduc;e.upload()},_createProducSuccess(e){this.createProducDialogVisible=!1,this.listData=[...this.listData,e]}}},b=k,f=(0,u.Z)(b,a,s,!1,null,"49308c45",null),y=f.exports},6066:function(e,t,i){i.d(t,{U8:function(){return c},fc:function(){return a},iS:function(){return s},yo:function(){return l}});const a=[{title:"作品管理",path:"/work"},{title:"数据分析",path:"/analyse"},{title:"分类管理",path:"/category"},{title:"账号管理",path:"/account"},{title:"应用版本",path:"/application"},{title:"意见反馈",path:"/feedback"}],s=[{cover:"https://img1.baidu.com/it/u=4027476620,1429212730&fm=253&fmt=auto&app=120&f=JPEG?w=600&h=800",name:"钢铁是怎样炼成的",lastChapter:"第 666 章 诸神的黄昏",createTime:"2022:07:08",updateTime:"2022:07:22",collect:2999}],l=["ICP证粤B2-2018254","粤ICP备1207776号","信息系统安全等级保护","网安备 4401130200150号","广播电视节目制作经营许可证"],c=[{label:"草稿箱",index:0,nodeKey:"cgx",children:[{label:"第一章",byteNum:0},{label:"第二章",byteNum:0},{label:"第三章",byteNum:0}]},{label:"已发布",index:0,nodeKey:"yfb",children:[{label:"第一章",byteNum:0},{label:"第二章",byteNum:0},{label:"第三章",byteNum:0}]},{label:"回收站",index:0,nodeKey:"hsz",children:[{label:"第一章",byteNum:0},{label:"第二章",byteNum:0},{label:"第三章",byteNum:0}]}]}}]);
//# sourceMappingURL=802.b2362e52.js.map